---
title: "Ingest Order"
api: "POST /v1/orders/ingest"
description: "Shopify Webhook Receiver."
---

This endpoint acts as the entry point for the Dumb Pipe. It accepts a JSON payload (typically from a Shopify orders/create webhook), validates it against the Retailer's strict schema (Zod), and queues it for X12 generation.

## Validation Rules

<Note>
We Fail Fast. If a ZIP code is 4 digits, we reject the request immediately. We do not attempt to "fix" data.
</Note>

## Body Parameters

<ParamField body="shopify_order_id" type="string" required>
Unique reference from Shopify. Used for idempotency.
</ParamField>

<ParamField body="retailer_code" type="string" required>
Target EDI destination.
Allowed: WALMART_US, TARGET_US, HOME_DEPOT.
</ParamField>

<ParamField body="items" type="array" required>
<Expandable title="Item Structure">
<ParamField body="sku" type="string" required>
Vendor SKU. Must match the Retailer's Catalog exactly.
</ParamField>
<ParamField body="quantity" type="integer" required>
Must be > 0.
</ParamField>
</Expandable>
</ParamField>

## Response Examples

<CodeGroup>

```json 200 OK
{
  "status": "queued",
  "trace_id": "evt_1234567890",
  "as2_transmission": "pending"
}
```

```json 400 Bad Request
// The "Wall of Shame". Fix your data.
{
  "error": "ZodValidationError",
  "issues": [
    {
      "path": ["shipping_address", "zip"],
      "message": "String must contain exactly 5 character(s)",
      "code": "too_small"
    }
  ]
}
```

</CodeGroup>